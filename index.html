<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simon Vegelahn</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-bg: #06080a;
            --color-bg-secondary: #0a0d10;
            --color-text: #f0f0f0;
            --color-text-secondary: #8b95a5;
            --color-text-muted: #3d4654;
            --color-accent: #3b82f6;
            --color-accent-secondary: #60a5fa;
            --color-border: #1a1f28;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        a:focus-visible {
            outline: 2px solid var(--color-accent);
            outline-offset: 2px;
        }

        /* Noise overlay */
        .noise {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
        }

        /* ========================================
           STICKY HEADER
           ======================================== */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: rgba(6, 8, 10, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--color-border);
            z-index: 1000;
            transform: translateY(-100%);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), 
                        opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .sticky-header.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .sticky-header-content {
            max-width: 1400px;
            margin: 0 auto;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 3rem;
        }

        .sticky-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .sticky-logo img {
            width: 28px;
            height: 28px;
        }

        .sticky-logo span {
            font-weight: 700;
            font-size: 0.9375rem;
            letter-spacing: -0.02em;
        }

        .sticky-links {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .sticky-link {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--color-accent-secondary);
            transition: color 0.15s ease;
        }

        .sticky-link:hover {
            color: var(--color-text);
        }

        /* ========================================
           HERO
           ======================================== */
        .hero {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            position: relative;
            overflow: hidden;
        }

        /* Radial glow behind word cloud */
        .hero-glow {
            position: absolute;
            width: 800px;
            height: 800px;
            border-radius: 50%;
            background: radial-gradient(
                circle at center,
                rgba(59, 130, 246, 0.08) 0%,
                rgba(59, 130, 246, 0.03) 35%,
                transparent 65%
            );
            pointer-events: none;
            z-index: 0;
        }

        /* Subtle grid */
        .hero-grid {
            position: absolute;
            inset: 0;
            background-image: 
                linear-gradient(rgba(255,255,255,0.018) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.018) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(ellipse 60% 60% at 50% 50%, black 10%, transparent 70%);
            -webkit-mask-image: radial-gradient(ellipse 60% 60% at 50% 50%, black 10%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        /* Identity - minimal, above the cloud */
        .hero-identity {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeIn 0.8s ease 0.1s forwards;
            position: relative;
            z-index: 1;
        }

        .hero-logo img {
            width: 48px;
            height: 48px;
            filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.15));
        }

        .hero-name {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.03em;
            color: var(--color-text);
        }

        .hero-divider {
            width: 1px;
            height: 24px;
            background: var(--color-border);
            margin: 0 0.25rem;
        }

        .hero-tagline {
            font-size: 0.9375rem;
            color: var(--color-text-secondary);
            font-weight: 400;
        }

        /* Word Cloud - THE centerpiece */
        .word-cloud-wrapper {
            position: relative;
            z-index: 1;
            opacity: 0;
            animation: fadeScaleIn 1s cubic-bezier(0.16, 1, 0.3, 1) 0.3s forwards;
            display: flex;
            justify-content: center;
            width: 100%;
        }

        .word-cloud {
            position: relative;
            width: 700px;
            height: 420px;
            margin: 0 auto;
        }

        .word-cloud-item {
            position: absolute;
            font-weight: 600;
            color: var(--color-text-muted);
            text-decoration: none;
            white-space: nowrap;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: pointer;
        }

        .word-cloud-item:hover {
            color: var(--color-text);
            transform: scale(1.08);
        }

        .word-cloud-item.highlight {
            color: var(--color-accent-secondary);
            font-weight: 700;
        }

        .word-cloud-item.highlight:hover {
            color: var(--color-accent);
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
        }

        .word-cloud-item.vertical {
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            color: var(--color-text-muted);
            font-family: 'Space Mono', monospace;
            font-size: 0.625rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeIn 0.8s ease 1s forwards;
            transition: color 0.2s ease;
        }

        .scroll-indicator:hover {
            color: var(--color-text-secondary);
        }

        .scroll-line {
            width: 1px;
            height: 40px;
            background: linear-gradient(to bottom, var(--color-text-muted), transparent);
            position: relative;
            overflow: hidden;
        }

        .scroll-line::after {
            content: '';
            position: absolute;
            top: -8px;
            left: 0;
            width: 100%;
            height: 8px;
            background: var(--color-accent-secondary);
            animation: scrollPulse 2.5s ease-in-out infinite;
        }

        @keyframes scrollPulse {
            0%, 100% { transform: translateY(0); opacity: 0; }
            50% { transform: translateY(48px); opacity: 1; }
        }

        /* ========================================
           SECONDARY SECTION
           ======================================== */
        .secondary-section {
            background: var(--color-bg-secondary);
            min-height: 100vh;
            padding: 8rem 3rem;
            position: relative;
        }

        .secondary-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-border), transparent);
        }

        .secondary-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .vision-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.6875rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: var(--color-accent-secondary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .vision-label::after {
            content: '';
            flex: 1;
            max-width: 80px;
            height: 1px;
            background: var(--color-border);
        }

        .vision-text {
            font-size: clamp(1.5rem, 3vw, 2.25rem);
            font-weight: 500;
            letter-spacing: -0.02em;
            line-height: 1.45;
            color: var(--color-text);
            margin-bottom: 4rem;
        }

        .vision-text .emphasis {
            color: var(--color-accent-secondary);
            font-weight: 600;
        }

        /* Cards Row */
        .cards-row {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        /* Feature Card (clickable) */
        .feature-card {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: 16px;
            padding: 2.5rem;
            text-align: center;
            max-width: 400px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            text-decoration: none;
            color: inherit;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
            transition: width 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.15);
        }

        .feature-card:hover::before {
            width: 200px;
        }

        .feature-card-icon {
            width: 36px;
            height: 36px;
            margin: 0 auto 1rem;
            color: var(--color-accent-secondary);
            transition: transform 0.3s ease;
        }

        .feature-card:hover .feature-card-icon {
            transform: scale(1.1);
        }

        .feature-card-title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .feature-card-text {
            color: var(--color-text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .feature-card-link {
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--color-accent-secondary);
            transition: color 0.2s ease;
        }

        .feature-card:hover .feature-card-link {
            color: var(--color-accent);
        }

        /* Coming Soon */
        .coming-soon-card {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: 16px;
            padding: 2.5rem;
            text-align: center;
            max-width: 400px;
            position: relative;
            overflow: hidden;
        }

        .coming-soon-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
        }

        .coming-soon-icon {
            width: 36px;
            height: 36px;
            margin: 0 auto 1rem;
            color: var(--color-accent-secondary);
        }

        .coming-soon-title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .coming-soon-text {
            color: var(--color-text-secondary);
            font-size: 0.875rem;
        }

        /* Footer */
        footer {
            background: var(--color-bg-secondary);
            border-top: 1px solid var(--color-border);
            padding: 2rem 3rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            font-size: 0.8125rem;
            color: var(--color-text-muted);
            transition: color 0.15s ease;
        }

        .footer-links a:hover {
            color: var(--color-text);
        }

        .footer-copy {
            font-size: 0.8125rem;
            color: var(--color-text-muted);
            font-family: 'Space Mono', monospace;
        }

        /* ========================================
           ANIMATIONS
           ======================================== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeScaleIn {
            from {
                opacity: 0;
                transform: scale(0.96);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ========================================
           RESPONSIVE
           ======================================== */
        @media (max-width: 900px) {
            .word-cloud {
                width: 100%;
                max-width: 500px;
                height: 360px;
            }

            .hero-identity {
                flex-wrap: wrap;
                justify-content: center;
                text-align: center;
            }

            .hero-divider {
                display: none;
            }

            .hero-tagline {
                width: 100%;
                margin-top: 0.25rem;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 2rem 1.5rem;
            }

            .hero-logo img {
                width: 40px;
                height: 40px;
            }

            .hero-name {
                font-size: 1.25rem;
            }

            .hero-tagline {
                font-size: 0.875rem;
            }

            .word-cloud {
                height: 320px;
            }

            .secondary-section {
                padding: 5rem 1.5rem;
            }

            .cards-row {
                flex-direction: column;
            }

            .feature-card,
            .coming-soon-card {
                max-width: 100%;
            }

            .sticky-header-content {
                padding: 0 1.5rem;
            }

            .scroll-indicator {
                display: none;
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
            }

            footer {
                padding: 1.5rem;
            }

            .hero-grid {
                display: none;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-delay: 0ms !important;
                transition-duration: 0.01ms !important;
            }
            .scroll-line::after {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <div class="noise"></div>

    <!-- Sticky Header -->
    <header class="sticky-header" id="stickyHeader">
        <div class="sticky-header-content">
            <a href="#" class="sticky-logo">
                <img src="favicon.png" alt="">
                <span>Simon Vegelahn</span>
            </a>
            <div class="sticky-links">
                <a href="https://www.linkedin.com/in/simonvegelahn/?locale=en_US" target="_blank" rel="noopener noreferrer" class="sticky-link">LinkedIn</a>
                <a href="https://github.com/SimonVegelahn" target="_blank" rel="noopener noreferrer" class="sticky-link">GitHub</a>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero" id="hero">
        <div class="hero-glow"></div>
        <div class="hero-grid"></div>

        <!-- Minimal identity bar -->
        <div class="hero-identity">
            <a href="#" class="hero-logo">
                <img src="favicon.png" alt="">
            </a>
            <span class="hero-name">Simon Vegelahn</span>
            <div class="hero-divider"></div>
            <span class="hero-tagline">Business Informatics · Data · Technology</span>
        </div>

        <!-- Word Cloud - centerpiece -->
        <div class="word-cloud-wrapper">
            <div class="word-cloud" id="wordCloud"></div>
        </div>

        <a href="#secondary" class="scroll-indicator">
            <span>Scroll</span>
            <div class="scroll-line"></div>
        </a>
    </section>

    <!-- Secondary Section -->
    <section class="secondary-section" id="secondary">
        <div class="secondary-container">
            <p class="vision-label">The Path</p>
            <p class="vision-text">
                From <span class="emphasis">chemical lab technician</span> to <span class="emphasis">data engineer</span>. 
                Multiple years at Siemens across project management tooling and data governance. 
                Comfortable moving between VBA scripts and dbt pipelines—whatever the problem needs.
            </p>

            <div class="cards-row">
                <a href="/flashcards.html" class="feature-card">
                    <svg class="feature-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5" />
                    </svg>
                    <h2 class="feature-card-title">Flashcards</h2>
                    <p class="feature-card-text">Build vocabulary across languages with daily expanding sets.</p>
                    <span class="feature-card-link">Try it →</span>
                </a>

                <div class="coming-soon-card">
                    <svg class="coming-soon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z" />
                    </svg>
                    <h2 class="coming-soon-title">More coming soon</h2>
                    <p class="coming-soon-text">Additional content and features in the works.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="/soon.html">Cookie Policy</a>
                <a href="/soon.html">Privacy Policy</a>
                <a href="/soon.html">Terms of Use</a>
            </div>
            <p class="footer-copy">© Simon Vegelahn 2025</p>
        </div>
    </footer>

    <script>
        // ============================================
        // CONFIGURATION
        // ============================================
        const LINKS = [
            { text: 'About Me', url: 'about_me.html', weight: 10 },
            { text: 'LinkedIn', url: 'https://www.linkedin.com/in/simonvegelahn/?locale=en_US', weight: 9, highlight: true },
            { text: 'GitHub', url: 'https://github.com/SimonVegelahn', weight: 9, highlight: true },
            { text: 'Projects', url: '/projects.html', weight: 8 },
            { text: 'Experience', url: 'about_me.html#experience', weight: 6 },
            { text: 'Skills', url: 'about_me.html#skills', weight: 5 },
            { text: 'Education', url: 'about_me.html#education', weight: 4 },
            { text: 'Contact', url: 'about_me.html#contact', weight: 4 },
            { text: 'Recipes', url: '/recipes.html', weight: 3 },
            { text: 'Hobbies', url: '/soon.html', weight: 3 },
        ];

        const FONT_SIZES = {
            10: 52, 9: 42, 8: 34, 7: 28, 6: 22, 5: 18, 4: 16, 3: 14, 2: 13, 1: 12
        };

        // ============================================
        // WORD CLOUD
        // ============================================
        function initWordCloud() {
            const container = document.getElementById('wordCloud');
            if (!container) return;

            const containerRect = container.getBoundingClientRect();
            const containerWidth = containerRect.width || 700;
            const containerHeight = containerRect.height || 420;

            const sortedLinks = [...LINKS].sort((a, b) => b.weight - a.weight);
            const items = [];
            
            sortedLinks.forEach((link, index) => {
                const el = document.createElement('a');
                el.href = link.url;
                el.textContent = link.text;
                el.className = 'word-cloud-item';
                if (link.highlight) el.classList.add('highlight');
                
                if (link.url.startsWith('http')) {
                    el.target = '_blank';
                    el.rel = 'noopener noreferrer';
                }

                const fontSize = FONT_SIZES[link.weight] || 16;
                el.style.fontSize = `${fontSize}px`;
                
                // Make specific items vertical for visual interest
                const isVertical = index === 4 || index === 8;
                if (isVertical) el.classList.add('vertical');

                container.appendChild(el);
                el.offsetHeight;

                const rect = el.getBoundingClientRect();
                items.push({ el, width: rect.width, height: rect.height, isVertical, x: 0, y: 0 });
            });

            const padding = 14;
            const placedRects = [];
            const centerX = containerWidth / 2;
            const centerY = containerHeight / 2;

            items.forEach((item, index) => {
                let bestPos = null;
                let bestDist = Infinity;

                if (index === 0) {
                    item.x = centerX - item.width / 2;
                    item.y = centerY - item.height / 2;
                    placedRects.push({ left: item.x, top: item.y, right: item.x + item.width, bottom: item.y + item.height });
                    item.el.style.left = `${item.x}px`;
                    item.el.style.top = `${item.y}px`;
                    return;
                }

                for (const placed of placedRects) {
                    const candidates = [
                        { x: placed.right + padding, y: placed.top },
                        { x: placed.right + padding, y: placed.bottom - item.height },
                        { x: placed.right + padding, y: (placed.top + placed.bottom) / 2 - item.height / 2 },
                        { x: placed.left - item.width - padding, y: placed.top },
                        { x: placed.left - item.width - padding, y: placed.bottom - item.height },
                        { x: placed.left - item.width - padding, y: (placed.top + placed.bottom) / 2 - item.height / 2 },
                        { x: placed.left, y: placed.bottom + padding },
                        { x: placed.right - item.width, y: placed.bottom + padding },
                        { x: (placed.left + placed.right) / 2 - item.width / 2, y: placed.bottom + padding },
                        { x: placed.left, y: placed.top - item.height - padding },
                        { x: placed.right - item.width, y: placed.top - item.height - padding },
                        { x: (placed.left + placed.right) / 2 - item.width / 2, y: placed.top - item.height - padding },
                    ];

                    for (const pos of candidates) {
                        if (pos.x < 0 || pos.y < 0 || pos.x + item.width > containerWidth || pos.y + item.height > containerHeight) continue;

                        const testRect = { left: pos.x, top: pos.y, right: pos.x + item.width, bottom: pos.y + item.height };
                        let overlaps = false;
                        for (const pr of placedRects) {
                            if (!(testRect.right + padding < pr.left || testRect.left - padding > pr.right || testRect.bottom + padding < pr.top || testRect.top - padding > pr.bottom)) {
                                overlaps = true;
                                break;
                            }
                        }

                        if (!overlaps) {
                            const cx = pos.x + item.width / 2;
                            const cy = pos.y + item.height / 2;
                            const dist = Math.sqrt(Math.pow(cx - centerX, 2) + Math.pow(cy - centerY, 2));
                            if (dist < bestDist) {
                                bestDist = dist;
                                bestPos = pos;
                            }
                        }
                    }
                }

                if (!bestPos) {
                    let angle = 0, radius = 10;
                    while (!bestPos && radius < 400) {
                        const x = centerX + Math.cos(angle) * radius - item.width / 2;
                        const y = centerY + Math.sin(angle) * radius - item.height / 2;
                        if (x >= 0 && y >= 0 && x + item.width <= containerWidth && y + item.height <= containerHeight) {
                            const testRect = { left: x, top: y, right: x + item.width, bottom: y + item.height };
                            let overlaps = false;
                            for (const pr of placedRects) {
                                if (!(testRect.right + padding < pr.left || testRect.left - padding > pr.right || testRect.bottom + padding < pr.top || testRect.top - padding > pr.bottom)) {
                                    overlaps = true;
                                    break;
                                }
                            }
                            if (!overlaps) bestPos = { x, y };
                        }
                        angle += 0.2;
                        if (angle > Math.PI * 2) { angle = 0; radius += 8; }
                    }
                }

                if (bestPos) {
                    item.x = bestPos.x;
                    item.y = bestPos.y;
                    placedRects.push({ left: item.x, top: item.y, right: item.x + item.width, bottom: item.y + item.height });
                    item.el.style.left = `${item.x}px`;
                    item.el.style.top = `${item.y}px`;
                }
            });

            // Center the entire cloud
            if (placedRects.length > 0) {
                let minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity;
                placedRects.forEach(r => {
                    minX = Math.min(minX, r.left);
                    maxX = Math.max(maxX, r.right);
                    minY = Math.min(minY, r.top);
                    maxY = Math.max(maxY, r.bottom);
                });
                
                const cloudWidth = maxX - minX;
                const cloudHeight = maxY - minY;
                const offsetX = (containerWidth - cloudWidth) / 2 - minX;
                const offsetY = (containerHeight - cloudHeight) / 2 - minY;
                
                items.forEach(item => {
                    item.x += offsetX;
                    item.y += offsetY;
                    item.el.style.left = `${item.x}px`;
                    item.el.style.top = `${item.y}px`;
                });
            }
        }

        // ============================================
        // STICKY HEADER
        // ============================================
        function initStickyHeader() {
            const header = document.getElementById('stickyHeader');
            const hero = document.getElementById('hero');
            if (!header || !hero) return;

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        header.classList.toggle('visible', !entry.isIntersecting);
                    });
                },
                { threshold: 0, rootMargin: '-64px 0px 0px 0px' }
            );
            observer.observe(hero);
        }

        // ============================================
        // RESIZE HANDLER
        // ============================================
        function initResizeHandler() {
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    const container = document.getElementById('wordCloud');
                    if (container) {
                        container.innerHTML = '';
                        initWordCloud();
                    }
                }, 300);
            });
        }

        // ============================================
        // INIT
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            initWordCloud();
            initStickyHeader();
            initResizeHandler();
        });
    </script>
</body>
</html>